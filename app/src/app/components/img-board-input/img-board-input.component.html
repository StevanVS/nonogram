<label
  [for]="'image-reader-' + tileType()"
  (drop)="onInputFile($event)"
  (dragover)="$event.preventDefault()"
  (dragenter)="dragEnter()"
  (dragleave)="dragLeave()"
>
  <div class="mb-1 text-center">
    {{ tileType() === "coloredTiles" ? "COLOR" : "FILL" }}
  </div>

  @if (imgBoard != null) {
    <div class="relative">
      <app-img-board
        [imgBoard]="{
          tiles: imgBoard.tiles || [],
          width: imgBoard.width,
          height: imgBoard.height,
        }"
      />
      <button
        type="button"
        (click)="clearImage()"
        class="fill-danger hover:fill-tertiary absolute top-0 right-0 size-10 cursor-pointer"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640">
          <path
            d="M320 576C461.4 576 576 461.4 576 320C576 178.6 461.4 64 320 64C178.6 64 64 178.6 64 320C64 461.4 178.6 576 320 576zM231 231C240.4 221.6 255.6 221.6 264.9 231L319.9 286L374.9 231C384.3 221.6 399.5 221.6 408.8 231C418.1 240.4 418.2 255.6 408.8 264.9L353.8 319.9L408.8 374.9C418.2 384.3 418.2 399.5 408.8 408.8C399.4 418.1 384.2 418.2 374.9 408.8L319.9 353.8L264.9 408.8C255.5 418.2 240.3 418.2 231 408.8C221.7 399.4 221.6 384.2 231 374.9L286 319.9L231 264.9C221.6 255.5 221.6 240.3 231 231z"
          />
        </svg>
      </button>
    </div>
  } @else {
    <div
      class="bg-secondary-dark hover:bg-tertiary flex aspect-square w-full cursor-pointer items-center justify-center rounded-md"
      [ngClass]="{ 'bg-tertiary': isDrag }"
    >
      <svg
        class="fill-primary-dark pointer-events-none size-1/2"
        viewBox="0 0 640 640"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          id="path3"
          d="m 479.99962,560.00023 c 79.5,0 144,-64.5 144,-144 0,-79.49996 -64.5,-143.99996 -144,-143.99996 -79.5,0 -144,64.5 -144,143.99996 0,79.5 64.5,144 144,144 z m 16,-207.99996 v 47.99996 h 48 c 8.8,0 16,7.2 16,16 0,8.8 -7.2,16 -16,16 h -48 v 48 c 0,8.8 -7.2,16 -16,16 -8.8,0 -16,-7.2 -16,-16 v -48 h -48 c -8.8,0 -16,-7.2 -16,-16 0,-8.8 7.2,-16 16,-16 h 48 v -47.99996 c 0,-8.8 7.2,-16 16,-16 8.8,0 16,7.2 16,16 z M 80.00038,80.00017 c -35.3,0 -64,28.7 -64,64 v 319.99996 c 0,35.3 28.7,64 64,64 h 243.99994 c -13.7001,-19.0112 -23.97768,-40.645 -29.97258,-64 H 104.00037 c -8.89999,0 -17.20077,-5.0004 -21.30077,-12.9004 -4.1,-7.9 -3.50039,-17.4989 1.59961,-24.7989 l 55.99999,-79.99996 c 4.5,-6.4 11.80117,-10.2011 19.70117,-10.2011 7.9,0 15.19923,3.8011 19.69923,10.2011 l 26.40038,37.79886 61.40039,-100.49996 c 4.4,-7.1 12.1,-11.5 20.5,-11.5 v -0.1 c 8.39998,0 16.09995,4.4 20.49995,11.5 l 13.9219,22.7832 c 31.8231,-45.6137 82.9537,-76.768 141.5781,-81.584 v -80.6992 c 0,-35.3 -28.7,-64 -64,-64 z m 63.99999,80 c 26.5,0 48,21.5 48,48 0,26.5 -21.5,48 -48,48 -26.5,0 -47.99999,-21.5 -47.99999,-48 0,-26.5 21.49999,-48 47.99999,-48 z"
        />
      </svg>
    </div>
  }

  <input
    #input
    type="file"
    [id]="'image-reader-' + tileType()"
    accept="image/png"
    class="hidden"
    (change)="onInputFile($event)"
    (click)="input.value = ''"
  />
</label>

@if (imgBoard) {
  <div class="mt-1 text-center">
    {{ imgBoard.width }} X {{ imgBoard.height }}
  </div>
}
